---
title: "Metacheck Report"
params:
  dois: !r metacheck:::tu_dois()
  session_id: NULL
---

<!-- this file always has to be in sync with other language versions -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(metacheck)
lang <- "en"
```

Here are the results of the automatic open access metadata compliance check.

The below sections aggregate the test results.
You can results for each individual DOI in the attached spreadsheet.

## Pretest

We first check whether these DOIs *could* have compliant open access metadata.

You have provided **`r length(params$dois)`** DOIs.

```{r pretest, results = "asis"}
report_metacheckable(params$dois, lang = lang)
```

```{r filter, include = FALSE}
dois <- params$doi[is_metacheckable(params$doi)]
enough <- length(dois) > 1
```

## Test Results

```{r enough, eval = !enough, results = "asis"}
cat("Not enough DOIs remain to run the test.")
```

The following analysis covers only the remaining **`r length(dois)`** DOIs.

```{r import, eval = enough, include = FALSE}
cr <- get_cr_md(dois)
mcres <- cr_compliance_overview(cr)
```


### Crossref-Metadata

```{r metrics_overview}
metrics_overview(mcres$cr_overview) %>%
   ind_table_to_gt(.color = "#00A4A7")
```
